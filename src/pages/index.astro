---
import Layout from "~layouts/Layout.astro";

import { getCollection, getEntry } from "astro:content";
import ArticleList from "~components/ArticleList.astro";
import H1 from "~components/H1.astro";

// Get all entries from a collection.
// Requires the name of the collection as an argument.
// Example: retrieve `src/content/blog/**`
const allBlogPosts = await getCollection("blog", ({ data }) => {
    return !data.draft;
});
---

<Layout title="Home">
    <H1>Astro</H1>
    <p>Build faster websites with less client-side Javascript.</p>

    <h2 class="text-3xl font-bold">Recent Posts</h2>
    <ArticleList articles={allBlogPosts.reverse().slice(0, 10)} />
    <p><a href="/blog">See More Posts</a></p>
</Layout>
